#+TITLE: Starter Kit Sr-Speedbar
#+OPTIONS: toc:nil num:nil ^:nil

* Starter Kit Srspeedbar
  
** Basic configurations
Sr-speedbar can imitate taglist in Vim. The differences are:
+ Only one window split at right
+ All the files are listed in the window
+ To show/unfold the tags in file, key *+*; otherwise key *-*

#+BEGIN_SRC emacs-lisp
(require 'sr-speedbar)
(setq sr-speedbar-right-side nil)
(setq sr-speedbar-width 30)
(setq speedbar-show-unknown-files t)
#+END_SRC

** My own toggle function

The sr-speedbar-toggle function is not the smart, so that I write my own
function.
#+BEGIN_SRC emacs-lisp
(defun my-sr-speedbar-toggle ()
  "If sr-speedbar opened, close the bar and goto previous buffer;
if not opened, open the bar, goto the entry of the buffer and expand it"
  (interactive)
  (if (sr-speedbar-exist-p)
      (progn
        (sr-speedbar-close)
        ;; switch to original buffer will muffle the windows
        ;; (when my-speedbar-from-buffer
        ;;   (switch-to-buffer my-speedbar-from-buffer)
        ;;   )
        )
    (let ((fname (buffer-name)))
      (progn
        (sr-speedbar-open)
        (beginning-of-buffer)
        (search-forward fname)
        (speedbar-expand-line)
        (setq my-speedbar-from-buffer fname)
        )
      )
    )
  )
#+END_SRC
